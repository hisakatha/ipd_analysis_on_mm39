SHELL := bash
.DELETE_ON_ERROR:
.SECONGEXPANSION:

motif_dirs := ACATMTGG ACGCRTG AGGCTT_4 AGGY_7 ATCAGCTG CTGDAR GATC GGN_10 GGN_4 RGTA TACTGTAG
tandem_dirs := tandem_repeat_s4_01down tandem_repeat_s4_01up tandem_repeat_s4_02down tandem_repeat_s4_02up tandem_repeat_s4_03down tandem_repeat_s4_03up \
	tandem_repeat_s4_04down tandem_repeat_s4_04up tandem_repeat_s4_05down tandem_repeat_s4_05up
motif_dirs2 := AAAABT AATMAATA ADNRATWAGWANWH AGACGCAG AGAGAGTA AGCTATAT AGGCAGGC ATGGGAYA ATTGTTAC AWBWWTWAAAANWA \
	CAAACTAC CAGYTG CCAATCAG CGGYTTGA CRACGAS CTKCAA CWHAAAAAAWAAAA \
	DCGAGACC DGCTTC DHNDATCAGCTGATSD DNKAMCAGSTGKYMNN \
	GAAGGATC GATATRGY GCCVCGCC GCGACCTA GCGCGCGC GCGCGTCA GGHGGY GTAGATCA GTATCGTA GTGTGTGY \
	HSDAACAKCTGTCHHW KVGACAGCTGTCRDVV MRWWNCACCTGCTNDNN \
	NBMAACATMTGGTNKM NBNAATATAAWVHT NDNGRCACGTGTCNNND NDRHYACGCRTGKYHND NMDAACAGCTGTYNHN NNAACABCTGTCVNNA NNDACCACGTGGTYND \
	RKRCGCGTGTCCCWN RNGRCGCGTGTCCYND RNMVCASCTGBGBCMT \
	TACCCCKA TACCTTGA TGACGTCA TGGTGSA TNDRSCACGTGSBANN \
	VRKRMCACCTGCTNVHH WAYYAWATWTRKVV WHWAATAAAACNVW WNAHGGCACGTGYCNDA WNDATCACGTGAYHWDN YBKRVARWAAADWG YGGAR
motif_dirs3 := AGAA ASAAD GAGG BGAGG
motif_dirs4 := ANNNATCAGCTG CNNNATCAGCTG GNNNATCAGCTG TNNNATCAGCTG ATCAGCTGATCAGCTG
motif_dirs4 += ANNGATC CNNGATC GNNGATC TNNGATC GATCGATC
# known RM system motifs for E. coli REL606 in REBASE
motif_dirs5 := ATGCAT TGANNNNNNNNTGCT
# From Blow et al. (2016) https://doi.org/10.1371/journal.pgen.1005854
motif_dirs6 := ATTAAT AATT CATG RAATTY ATCGAT CTCGAG TTAA GANTC AGCT CTAG
# known RM system motifs for E. coli K-12
motif_dirs7 := AACNNNNNNGTGC

old_targets := ATWTTB CGRAACCCG CTGRAA GAGD GCGC GGTCTCGC GKCGGY GTAS HKGAGCA HRGTA RGTAB RTAB TATAA TTTT YGGWR

all_dirs := $(motif_dirs) $(motif_dirs2) $(motif_dirs3) $(motif_dirs4) $(motif_dirs5) $(motif_dirs6) $(motif_dirs7)

all: $(all_dirs)
motif: $(motif_dirs) $(motif_dirs2)
tandem: $(tandem_dirs)

.PHONY: all motif tandem $(all_dirs)

$(all_dirs):
	$(MAKE) -C $@

$(tandem_dirs):
	$(MAKE) -C $@
